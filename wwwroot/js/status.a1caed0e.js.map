{"version":3,"sources":["webpack:///./src/views/Status.vue?2329","webpack:///src/components/Status.vue","webpack:///./src/components/Status.vue?3891","webpack:///./src/components/Status.vue?5cf2","webpack:///./src/components/Status.vue","webpack:///src/views/Status.vue","webpack:///./src/views/Status.vue?4ddd","webpack:///./src/views/Status.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","_v","_l","stats","o","i","key","getStatusColor","status","toUpperCase","_s","count","includes","Object","keys","pricing","length","_e","jobs","name","data","health","mounted","getStats","getHealth","getPricing","intervalId","setInterval","UPDATE_INTERVAL","healthIntervalId","HEALTH_UPDATE_INTERVAL","pricingIntervalId","PRICING_UPDATE_INTERVAL","destroyed","clearInterval","methods","queued","completed","downloading","encoding","uploading","error","statusMap","api","json","err","console","log","component","components","Status"],"mappings":"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","file":"js/status.a1caed0e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"status\"}},[_c('Status')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"status container\">\n    <h2 class=\"text-muted\">Jobs</h2>\n    <b-card-group deck>\n      <div\n        v-for=\"(o, i) in stats.jobs\"\n        v-bind:key=\"i\"\n        class=\"col-lg-4 col-md-4 p-1 mb-2\"\n      >\n          <b-card\n            :border-variant=\"getStatusColor(o.status)\"\n            :header=\"o.status.toUpperCase()\"\n            class=\"text-center\"\n            style=\"\"\n            >\n            <b-card-text>{{o.count}}</b-card-text>\n          </b-card>\n      </div>\n    </b-card-group>\n    <hr />\n\n    <h2 class=\"text-muted\">Health</h2>\n    <b-card-group deck>\n      <div\n        v-for=\"(o, i) in health\"\n        v-bind:key=\"i\"\n        class=\"col-lg-3 col-md-3 p-1 mb-2\"\n      >\n          <b-card\n            :header=\"i.toUpperCase()\"\n            class=\"text-center\"\n            style=\"\"\n            >\n            <b-card-text>\n              <b-alert\n                show\n                :variant=\"['NOTOK', 0].includes(o) ? 'danger' : 'success'\">{{ o }}</b-alert>\n            </b-card-text>\n          </b-card>\n      </div>\n    </b-card-group>\n    <hr />\n\n    <h2 class=\"text-muted\">Machines</h2>\n    <b-card-group deck>\n      <div\n        v-for=\"(o, i) in pricing\"\n        v-bind:key=\"i\"\n        class=\"col-lg-4 col-md-4 p-1 mb-2\"\n      >\n          <b-card\n            :header=\"i.toUpperCase()\"\n            class=\"text-center\"\n            style=\"\"\n            >\n            <b-card-text>\n              <b-alert\n                show\n              >{{ o }}</b-alert>\n            </b-card-text>\n          </b-card>\n      </div>\n    </b-card-group>\n    <h2 class=\"text-center\" v-if=\"Object.keys(pricing).length === 0\">No Machines Running</h2>\n\n    <h2 class=\"text-center\" v-if=\"!stats.jobs\">No Stats Found</h2>\n  </div>\n</template>\n\n<script>\nimport api from '../api';\n\nconst UPDATE_INTERVAL = 5000;\nconst HEALTH_UPDATE_INTERVAL = 10000;\nconst PRICING_UPDATE_INTERVAL = 30000;\n\nlet intervalId;\nlet healthIntervalId;\nlet pricingIntervalId;\n\nexport default {\n  name: 'status',\n\n  data() {\n    return {\n      stats: {},\n      health: {},\n      pricing: {},\n    };\n  },\n\n  mounted() {\n    this.getStats();\n    this.getHealth();\n    this.getPricing();\n\n    intervalId = setInterval(this.getStats, UPDATE_INTERVAL);\n    healthIntervalId = setInterval(this.getHealth, HEALTH_UPDATE_INTERVAL);\n    pricingIntervalId = setInterval(this.getPricing, PRICING_UPDATE_INTERVAL);\n  },\n\n  destroyed() {\n    clearInterval(intervalId);\n    clearInterval(healthIntervalId);\n    clearInterval(pricingIntervalId);\n  },\n\n  methods: {\n    getStatusColor(o) {\n      const statusMap = {\n        queued: 'primary',\n        completed: 'success',\n        downloading: 'warning',\n        encoding: 'info',\n        uploading: 'warning',\n        error: 'danger',\n      };\n      return statusMap[o] || 'secondary';\n    },\n\n    getStats() {\n      api.getStats(this, (err, json) => {\n        if (json.stats) {\n          this.stats = json.stats;\n        }\n      });\n    },\n\n    getHealth() {\n      api.getHealth(this, (err, json) => {\n        if (json) {\n          this.health = json;\n        }\n      });\n    },\n\n    getPricing() {\n      api.getPricing(this, (err, json) => {\n        if (err) {\n          console.log(err);\n          return;\n        }\n        if (json.pricing) {\n          this.pricing = json.pricing;\n        }\n      });\n    },\n  },\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"status container\"},[_c('h2',{staticClass:\"text-muted\"},[_vm._v(\"Jobs\")]),_c('b-card-group',{attrs:{\"deck\":\"\"}},_vm._l((_vm.stats.jobs),function(o,i){return _c('div',{key:i,staticClass:\"col-lg-4 col-md-4 p-1 mb-2\"},[_c('b-card',{staticClass:\"text-center\",attrs:{\"border-variant\":_vm.getStatusColor(o.status),\"header\":o.status.toUpperCase()}},[_c('b-card-text',[_vm._v(_vm._s(o.count))])],1)],1)}),0),_c('hr'),_c('h2',{staticClass:\"text-muted\"},[_vm._v(\"Health\")]),_c('b-card-group',{attrs:{\"deck\":\"\"}},_vm._l((_vm.health),function(o,i){return _c('div',{key:i,staticClass:\"col-lg-3 col-md-3 p-1 mb-2\"},[_c('b-card',{staticClass:\"text-center\",attrs:{\"header\":i.toUpperCase()}},[_c('b-card-text',[_c('b-alert',{attrs:{\"show\":\"\",\"variant\":['NOTOK', 0].includes(o) ? 'danger' : 'success'}},[_vm._v(_vm._s(o))])],1)],1)],1)}),0),_c('hr'),_c('h2',{staticClass:\"text-muted\"},[_vm._v(\"Machines\")]),_c('b-card-group',{attrs:{\"deck\":\"\"}},_vm._l((_vm.pricing),function(o,i){return _c('div',{key:i,staticClass:\"col-lg-4 col-md-4 p-1 mb-2\"},[_c('b-card',{staticClass:\"text-center\",attrs:{\"header\":i.toUpperCase()}},[_c('b-card-text',[_c('b-alert',{attrs:{\"show\":\"\"}},[_vm._v(_vm._s(o))])],1)],1)],1)}),0),(Object.keys(_vm.pricing).length === 0)?_c('h2',{staticClass:\"text-center\"},[_vm._v(\"No Machines Running\")]):_vm._e(),(!_vm.stats.jobs)?_c('h2',{staticClass:\"text-center\"},[_vm._v(\"No Stats Found\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Status.vue?vue&type=template&id=e2b7325e&\"\nimport script from \"./Status.vue?vue&type=script&lang=js&\"\nexport * from \"./Status.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"status\" class=\"container\">\n    <Status />\n  </div>\n</template>\n\n<script>\nimport Status from '@/components/Status.vue';\n\nexport default {\n  name: 'status',\n  components: {\n    Status,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Status.vue?vue&type=template&id=326cb95f&\"\nimport script from \"./Status.vue?vue&type=script&lang=js&\"\nexport * from \"./Status.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}