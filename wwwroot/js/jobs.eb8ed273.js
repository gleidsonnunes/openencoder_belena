(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["jobs"],{b794:function(t,e,s){},ea19:function(t,e,s){"use strict";s("b794")},ee68:function(t,e,s){"use strict";s.r(e);var a,n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"jobs"}},[s("JobsTable")],1)},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"jobs-table"}},[s("div",{staticClass:"text-right mb-2"},[s("b-button",{on:{click:t.toggleAutoUpdate}},[t._v(t._s(t.autoUpdate?"⟳ Auto Update":"❚❚ Paused"))])],1),s("b-table",{attrs:{striped:"",hover:"",dark:"",fields:t.fields,busy:!t.items,items:t.items},scopedSlots:t._u([{key:"cell(created_date)",fn:function(e){return[s("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.item.created_date,expression:"data.item.created_date"}]},[t._v(" "+t._s(t._f("moment")(e.item.created_date,"from","now"))+" ")])]}},{key:"cell(status)",fn:function(e){return[s("b-badge",{attrs:{variant:["error","cancelled"].includes(e.item.status)?"danger":"primary"}},[t._v(t._s(e.item.status))])]}},{key:"cell(progress)",fn:function(e){return[["error","cancelled"].includes(e.item.status)?t._e():s("b-progress",{attrs:{value:e.item.progress,animated:100!==e.value,variant:100===e.value?"success":"primary","show-progress":""}}),e.item.speed&&e.item.fps&&"encoding"===e.item.status?s("p",{staticClass:"text-monospace text-center",staticStyle:{"font-size":"0.7em",margin:"0"}},[t._v(t._s(e.item.speed)+" @ "+t._s(e.item.fps)+" FPS")]):t._e()]}},{key:"cell(details)",fn:function(e){return[s("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" ")])]}},{key:"cell(action)",fn:function(e){return[s("b-button-group",{attrs:{size:"sm"}},[["error","cancelled","completed"].includes(e.item.status)?t._e():s("b-button",{attrs:{variant:"light"},on:{click:function(s){return t.onClickCancel(e.item.id)}}},[t._v("❌")]),["error","cancelled"].includes(e.item.status)?s("b-button",{attrs:{variant:"light"},on:{click:function(s){return t.onClickRestart(e.item.id)}}},[t._v("⟳")]):t._e()],1)]}},{key:"row-details",fn:function(e){return[s("b-row",{staticClass:"mb-2"},[s("b-col",{staticClass:"text-sm-right",attrs:{sm:"2"}},[s("b",[t._v("Guid:")])]),s("b-col",[t._v(t._s(e.item.guid))])],1),s("b-row",{staticClass:"mb-2"},[s("b-col",{staticClass:"text-sm-right",attrs:{sm:"2"}},[s("b",[t._v("Source:")])]),s("b-col",[t._v(t._s(e.item.source))])],1),s("b-row",{staticClass:"mb-2"},[s("b-col",{staticClass:"text-sm-right",attrs:{sm:"2"}},[s("b",[t._v("Destination:")])]),s("b-col",[t._v(t._s(e.item.destination))])],1),s("b-row",{staticClass:"mb-2"},[s("b-col",{staticClass:"text-sm-right",attrs:{sm:"2"}},[s("b",[t._v("Probe Data:")])]),s("b-col",[s("div",{staticClass:"code"},[s("b-form-textarea",{attrs:{rows:"3","max-rows":"6",value:e.item.probe}})],1)])],1),s("b-row",{staticClass:"mb-2"},[s("b-col",{staticClass:"text-sm-right",attrs:{sm:"2"}},[s("b",[t._v("Encode Options:")])]),s("b-col",[s("div",{staticClass:"code"},[s("b-form-textarea",{attrs:{rows:"3","max-rows":"6",value:e.item.options}})],1)])],1)]}},{key:"table-busy",fn:function(){return[s("div",{staticClass:"text-center text-danger my-2"},[s("b-spinner",{staticClass:"align-middle"}),s("strong",[t._v("Loading...")])],1)]},proxy:!0}])}),0===t.items.length?s("h2",{staticClass:"text-center"},[t._v("No Jobs Found")]):t._e(),s("b-pagination-nav",{attrs:{"link-gen":t.linkGen,"number-of-pages":t.pages,"use-router":""},on:{change:t.onChangePage}})],1)},r=[],c=s("d722"),l=5e3,u={data:function(){return{fields:["id","source","preset","created_date","status","progress","details","action"],items:[],count:0,autoUpdate:!0}},computed:{pages:function(){return 0===this.count?1:Math.ceil(this.count/10)}},mounted:function(){var t=this,e=this.$route.query.page||0;this.getJobs(e),a=setInterval((function(){t.autoUpdate&&(e=t.$route.query.page||0,t.getJobs(e))}),l)},destroyed:function(){clearInterval(a)},methods:{linkGen:function(t){return 1===t?"?":"?page=".concat(t)},toggleAutoUpdate:function(){this.autoUpdate=!this.autoUpdate},onChangePage:function(t){this.getJobs(t)},onClickCancel:function(t){var e=t;this.cancelJob(e)},onClickRestart:function(t){var e=t;this.restartJob(e)},cancelJob:function(t){c["a"].cancelJob(this,t,(function(t,e){console.log("Cancel job: ",e)}))},restartJob:function(t){c["a"].restartJob(this,t,(function(t,e){console.log("Restart job: ",e)}))},getJobs:function(t){var e=this;c["a"].getJobs(this,t,(function(t,s){e.items=s&&s.items,e.count=s&&s.count}))}}},b=u,d=(s("ea19"),s("2877")),m=Object(d["a"])(b,o,r,!1,null,null,null),f=m.exports,g={name:"Jobs",components:{JobsTable:f}},p=g,v=Object(d["a"])(p,n,i,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=jobs.eb8ed273.js.map