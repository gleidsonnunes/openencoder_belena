(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{1276:function(t,e,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),a=n("1d80"),s=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("14c3"),d=n("9263"),f=n("d039"),v=[].push,p=Math.min,h=4294967295,g=!f((function(){return!RegExp(h,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),o=void 0===n?h:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);var s,c,u,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,f+"g");while(s=d.call(g,r)){if(c=g.lastIndex,c>p&&(l.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&v.apply(l,s.slice(1)),u=s[0].length,p=c,l.length>=o))break;g.lastIndex===s.index&&g.lastIndex++}return p===r.length?!u&&g.test("")||l.push(""):l.push(r.slice(p)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var a=n(r,t,this,i,r!==e);if(a.done)return a.value;var d=o(t),f=String(this),v=s(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),x=new v(g?d:"^(?:"+d.source+")",b),S=void 0===i?h:i>>>0;if(0===S)return[];if(0===f.length)return null===l(x,f)?[f]:[];var E=0,_=0,A=[];while(_<f.length){x.lastIndex=g?_:0;var O,I=l(x,g?f:f.slice(_));if(null===I||(O=p(u(x.lastIndex+(g?0:_)),f.length))===E)_=c(f,_,m);else{if(A.push(f.slice(E,_)),A.length===S)return A;for(var C=1;C<=I.length-1;C++)if(A.push(I[C]),A.length===S)return A;_=E=O}}return A.push(f.slice(E)),A}]}),!g)},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),a=n("9112");for(var s in i){var c=r[s],u=c&&c.prototype;if(u&&u.forEach!==o)try{a(u,"forEach",o)}catch(l){u.forEach=o}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("b301");t.exports=i("forEach")?function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1c7e":function(t,e,n){var r=n("b622"),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},"26d3":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"settings"}},[n("SettingsForm")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"settings-form"}},[n("h4",[t._v("Settings")]),n("b-form",{staticClass:"mb-3",on:{submit:t.onSubmit}},[t._l(t.sortedSettings,(function(e,r){return n("div",{key:r},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isHidden(e.name),expression:"!isHidden(o.name)"}]},[n("b-form-group",{attrs:{id:"fieldset-horizontal-"+r,"label-cols-sm":"4","label-cols-lg":"4","label-for":"input-horizontal-"+r,label:e.title,description:e.description}},[t.isSelectInput(e.name)?n("div",[n("b-form-select",{attrs:{options:t.getSelectOptions(e.name)},on:{change:t.onSelectChange},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[o.name]"}})],1):t.isCheckboxInput(e.name)?n("div",[n("b-form-checkbox",{attrs:{id:"checkbox-"+r,value:"enabled","unchecked-value":"disabled"},on:{input:t.onSelectChange},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[o.name]"}})],1):n("div",[n("b-form-input",{attrs:{id:"input-horizontal-"+r,autocomplete:"off",type:e.secure&&t.hide?"password":"text"},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[o.name]"}})],1)])],1)])})),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Save")]),n("b-button",{staticClass:"ml-2",attrs:{variant:"primary"},on:{click:t.onClickShow}},[t._v(t._s(this.hide?"Show":"Hide"))])],2),n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"success"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" Updated settings! ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(" "+t._s(t.forceUpdate)+" ")])],1)},a=[],s=(n("99af"),n("7db0"),n("caad6"),n("d81d"),n("4e82"),n("b0c0"),n("1276"),n("159b"),n("2909")),c=n("d722"),u=["DIGITAL_OCEAN_ENABLED","DIGITAL_OCEAN_ACCESS_TOKEN","DIGITAL_OCEAN_REGION","DIGITAL_OCEAN_VPC","STORAGE_DRIVER","S3_PROVIDER","S3_ENDPOINT","S3_ACCESS_KEY","S3_SECRET_KEY","S3_INBOUND_BUCKET","S3_INBOUND_BUCKET_REGION","S3_OUTBOUND_BUCKET","S3_OUTBOUND_BUCKET_REGION","S3_STREAMING","FTP_ADDR","FTP_USERNAME","FTP_PASSWORD","SLACK_WEBHOOK"],l={data:function(){return{form:{},settings:[],digitalOceanRegions:[{value:"",text:"Select a Digital Ocean Region",disabled:!0},{value:"sfo1",text:"San Francisco 1"},{value:"sfo2",text:"San Francisco 2"},{value:"sfo3",text:"San Francisco 3"},{value:"nyc1",text:"New York 1"},{value:"nyc3",text:"New York 3"},{value:"sgp1",text:"Singapore 1"},{value:"lon1",text:"London 1"},{value:"ams3",text:"Amsterdam 3"},{value:"fra1",text:"Frankfurt 1"},{value:"tor1",text:"Toronto 1"},{value:"blr1",text:"Bangalore 1"}],digitalOceanVPCs:[{value:"",text:"Select a Digital Ocean VPC",disabled:!0}],providers:[{value:"",text:"Select an S3 Provider",disabled:!0},{value:"digitaloceanspaces",text:"Digital Ocean Spaces"},{value:"amazonaws",text:"Amazon AWS"},{value:"custom",text:"Custom Provider"}],streamingOptions:[{value:"",text:"Select an S3 Streaming Option",disabled:!0},{value:"enabled",text:"Enabled"},{value:"disabled",text:"Disabled"}],storageOptions:[{value:"",text:"Select a Storage Option",disabled:!0},{value:"s3",text:"S3"},{value:"ftp",text:"FTP"}],hide:!0,dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1,forceUpdate:0}},computed:{sortedSettings:function(){var t=this,e=[];return this.settings.length>0&&u.forEach((function(n){var r=t.settings.find((function(t){return t.name===n}));r&&e.push(r)})),e}},mounted:function(){this.getSettings(),this.getDigitalOceanVPCs()},methods:{onSelectChange:function(){this.forceUpdate=this.forceUpdate+1},isSelectInput:function(t){return["DIGITAL_OCEAN_REGION","DIGITAL_OCEAN_VPC","S3_PROVIDER","S3_STREAMING","STORAGE_DRIVER"].includes(t)},isCheckboxInput:function(t){return["DIGITAL_OCEAN_ENABLED"].includes(t)},isHidden:function(t){var e=["FTP","S3"],n=t.split("_")[0],r=this.form,i=r.STORAGE_DRIVER,o=r.S3_PROVIDER,a=r.DIGITAL_OCEAN_ENABLED;return!(!["","disabled"].includes(a)||!["DIGITAL_OCEAN_ACCESS_TOKEN","DIGITAL_OCEAN_REGION","DIGITAL_OCEAN_VPC"].includes(t))||(!(!e.includes(n)||i.toUpperCase()===n)||i.toUpperCase()===n&&"custom"!==o&&"S3_ENDPOINT"===t)},getSelectOptions:function(t){switch(t){case"DIGITAL_OCEAN_REGION":return this.digitalOceanRegions;case"DIGITAL_OCEAN_VPC":return this.digitalOceanVPCs;case"S3_PROVIDER":return this.providers;case"S3_STREAMING":return this.streamingOptions;case"STORAGE_DRIVER":return this.storageOptions;default:return[]}},countDownChanged:function(t){this.dismissCountDown=t},getSettings:function(){var t=this;c["a"].getSettings(this,(function(e,n){n.settings&&(t.settings=n.settings,t.settings.forEach((function(e){t.form[e.name]=e.value})))}))},updateSettings:function(t){var e=this;c["a"].updateSettings(this,t,(function(t,n){e.dismissCountDown=e.dismissSecs,console.log("Settings updated",n)}))},getDigitalOceanVPCs:function(){var t=this;c["a"].getMachineVPCs(this,(function(e,n){var r,i=n&&n.vpcs||[];t.digitalOceanVPCs=(r=t.digitalOceanVPCs).concat.apply(r,Object(s["a"])(i.map((function(t){var e={text:t.name,value:t.id};return e})).sort()))}))},onSubmit:function(t){t.preventDefault(),this.updateSettings(this.form)},onClickShow:function(){this.hide=!this.hide}}},d=l,f=n("2877"),v=Object(f["a"])(d,o,a,!1,null,"7c3b237e",null),p=v.exports,h={name:"Settings",components:{SettingsForm:p}},g=h,m=Object(f["a"])(g,r,i,!1,null,null,null);e["default"]=m.exports},2909:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}n.d(e,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(t){return r(t)||i(t)||o()}},"35a1":function(t,e,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),a=o("iterator");t.exports=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[r(t)]}},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),a=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},4840:function(t,e,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),a=o("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},"4df4":function(t,e,n){"use strict";var r=n("f8c2"),i=n("7b0b"),o=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,d,f,v=i(t),p="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,m=void 0!==g,b=0,x=u(v);if(m&&(g=r(g,h>2?arguments[2]:void 0,2)),void 0==x||p==Array&&a(x))for(e=s(v.length),n=new p(e);e>b;b++)c(n,b,m?g(v[b],b):v[b]);else for(d=x.call(v),f=d.next,n=new p;!(l=f.call(d)).done;b++)c(n,b,m?o(d,g,[l.value,b],!0):l.value);return n.length=b,n}},"4e82":function(t,e,n){"use strict";var r=n("23e7"),i=n("1c0b"),o=n("7b0b"),a=n("d039"),s=n("b301"),c=[],u=c.sort,l=a((function(){c.sort(void 0)})),d=a((function(){c.sort(null)})),f=s("sort"),v=l||!d||f;r({target:"Array",proto:!0,forced:v},{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},"7db0":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").find,o=n("44d2"),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=void 0!==/()??/.exec("")[1],u=s||c;u&&(a=function(t){var e,n,a,u,l=this;return c&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),s&&(e=l.lastIndex),a=i.call(l,t),s&&a&&(l.lastIndex=l.global?a.index+a[0].length:e),c&&a&&a.length>1&&o.call(a[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a}),t.exports=a},"9bdd":function(t,e,n){var r=n("825a");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),a=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:i})},b301:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!n||!r((function(){n.call(null,e||function(){throw 1},1)}))}},caad6:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("44d2");r({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d784:function(t,e,n){"use strict";var r=n("9112"),i=n("6eeb"),o=n("d039"),a=n("b622"),s=n("9263"),c=a("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var f=a(t),v=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=v&&!o((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!v||!p||"replace"===t&&!u||"split"===t&&!l){var h=/./[f],g=n(f,""[t],(function(t,e,n,r,i){return e.exec===s?v&&!i?{done:!0,value:h.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=g[0],b=g[1];i(String.prototype,t,m),i(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)}),d&&r(RegExp.prototype[f],"sham",!0)}}},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("d039"),a=n("1dde"),s=a("map"),c=s&&!o((function(){[].map.call({length:-1,0:1},(function(t){throw t}))}));r({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e95a:function(t,e,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}}}]);
//# sourceMappingURL=settings.fe7345a9.js.map