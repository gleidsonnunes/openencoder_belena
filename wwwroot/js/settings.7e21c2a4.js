(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{"04d1":function(t,e,n){var i=n("342f"),r=i.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},1276:function(t,e,n){"use strict";var i=n("2ba4"),r=n("c65b"),a=n("e330"),o=n("d784"),s=n("44e7"),c=n("825a"),u=n("1d80"),l=n("4840"),d=n("8aa5"),f=n("50c4"),v=n("577e"),h=n("dc4a"),p=n("4dae"),g=n("14c3"),m=n("9263"),b=n("9f7f"),S=n("d039"),E=b.UNSUPPORTED_Y,_=4294967295,x=Math.min,O=[].push,C=a(/./.exec),A=a(O),I=a("".slice),D=!S((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=v(u(this)),o=void 0===n?_:n>>>0;if(0===o)return[];if(void 0===t)return[a];if(!s(t))return r(e,a,t,o);var c,l,d,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,b=new RegExp(t.source,h+"g");while(c=r(m,b,a)){if(l=b.lastIndex,l>g&&(A(f,I(a,g,c.index)),c.length>1&&c.index<a.length&&i(O,f,p(c,1)),d=c[0].length,g=l,f.length>=o))break;b.lastIndex===c.index&&b.lastIndex++}return g===a.length?!d&&C(b,"")||A(f,""):A(f,I(a,g)),f.length>o?p(f,0,o):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:r(e,this,t,n)}:e,[function(e,n){var i=u(this),o=void 0==e?void 0:h(e,t);return o?r(o,e,i,n):r(a,v(i),e,n)},function(t,i){var r=c(this),o=v(t),s=n(a,r,o,i,a!==e);if(s.done)return s.value;var u=l(r,RegExp),h=r.unicode,p=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(E?"g":"y"),m=new u(E?"^(?:"+r.source+")":r,p),b=void 0===i?_:i>>>0;if(0===b)return[];if(0===o.length)return null===g(m,o)?[o]:[];var S=0,O=0,C=[];while(O<o.length){m.lastIndex=E?0:O;var D,w=g(m,E?I(o,O):o);if(null===w||(D=x(f(m.lastIndex+(E?O:0)),o.length))===S)O=d(o,O,h);else{if(A(C,I(o,S,O)),C.length===b)return C;for(var N=1;N<=w.length-1;N++)if(A(C,w[N]),C.length===b)return C;O=S=D}}return A(C,I(o,S)),C}]}),!D,E)},"14c3":function(t,e,n){var i=n("da84"),r=n("c65b"),a=n("825a"),o=n("1626"),s=n("c6b6"),c=n("9263"),u=i.TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var i=r(n,t,e);return null!==i&&a(i),i}if("RegExp"===s(t))return r(c,t,e);throw u("RegExp#exec called on incompatible receiver")}},"159b":function(t,e,n){var i=n("da84"),r=n("fdbc"),a=n("785a"),o=n("17c2"),s=n("9112"),c=function(t){if(t&&t.forEach!==o)try{s(t,"forEach",o)}catch(e){t.forEach=o}};for(var u in r)r[u]&&c(i[u]&&i[u].prototype);c(a)},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,r=n("a640"),a=r("forEach");t.exports=a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"26d3":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"settings"}},[n("SettingsForm")],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"settings-form"}},[n("h4",[t._v("Settings")]),n("b-form",{staticClass:"mb-3",on:{submit:t.onSubmit}},[t._l(t.sortedSettings,(function(e,i){return n("div",{key:i},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isHidden(e.name),expression:"!isHidden(o.name)"}]},[n("b-form-group",{attrs:{id:"fieldset-horizontal-"+i,"label-cols-sm":"4","label-cols-lg":"4","label-for":"input-horizontal-"+i,label:e.title,description:e.description}},[t.isSelectInput(e.name)?n("div",[n("b-form-select",{attrs:{options:t.getSelectOptions(e.name)},on:{change:t.onSelectChange},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[o.name]"}})],1):t.isCheckboxInput(e.name)?n("div",[n("b-form-checkbox",{attrs:{id:"checkbox-"+i,value:"enabled","unchecked-value":"disabled"},on:{input:t.onSelectChange},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[o.name]"}})],1):n("div",[n("b-form-input",{attrs:{id:"input-horizontal-"+i,autocomplete:"off",type:e.secure&&t.hide?"password":"text"},model:{value:t.form[e.name],callback:function(n){t.$set(t.form,e.name,n)},expression:"form[o.name]"}})],1)])],1)])})),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Save")]),n("b-button",{staticClass:"ml-2",attrs:{variant:"primary"},on:{click:t.onClickShow}},[t._v(t._s(this.hide?"Show":"Hide"))])],2),n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"success"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" Updated settings! ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(" "+t._s(t.forceUpdate)+" ")])],1)},o=[],s=n("6b75");function c(t){if(Array.isArray(t))return Object(s["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var l=n("06c5");n("d9e2");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return c(t)||u(t)||Object(l["a"])(t)||d()}n("7db0"),n("b0c0"),n("caad"),n("ac1f"),n("1276"),n("159b"),n("99af"),n("4e82"),n("d81d");var v=n("d722"),h=["DIGITAL_OCEAN_ENABLED","DIGITAL_OCEAN_ACCESS_TOKEN","DIGITAL_OCEAN_REGION","DIGITAL_OCEAN_VPC","STORAGE_DRIVER","S3_PROVIDER","S3_ENDPOINT","S3_ACCESS_KEY","S3_SECRET_KEY","S3_INBOUND_BUCKET","S3_INBOUND_BUCKET_REGION","S3_OUTBOUND_BUCKET","S3_OUTBOUND_BUCKET_REGION","S3_STREAMING","FTP_ADDR","FTP_USERNAME","FTP_PASSWORD","SLACK_WEBHOOK"],p={data:function(){return{form:{},settings:[],digitalOceanRegions:[{value:"",text:"Select a Digital Ocean Region",disabled:!0},{value:"sfo1",text:"San Francisco 1"},{value:"sfo2",text:"San Francisco 2"},{value:"sfo3",text:"San Francisco 3"},{value:"nyc1",text:"New York 1"},{value:"nyc3",text:"New York 3"},{value:"sgp1",text:"Singapore 1"},{value:"lon1",text:"London 1"},{value:"ams3",text:"Amsterdam 3"},{value:"fra1",text:"Frankfurt 1"},{value:"tor1",text:"Toronto 1"},{value:"blr1",text:"Bangalore 1"}],digitalOceanVPCs:[{value:"",text:"Select a Digital Ocean VPC",disabled:!0}],providers:[{value:"",text:"Select an S3 Provider",disabled:!0},{value:"digitaloceanspaces",text:"Digital Ocean Spaces"},{value:"amazonaws",text:"Amazon AWS"},{value:"custom",text:"Custom Provider"}],streamingOptions:[{value:"",text:"Select an S3 Streaming Option",disabled:!0},{value:"enabled",text:"Enabled"},{value:"disabled",text:"Disabled"}],storageOptions:[{value:"",text:"Select a Storage Option",disabled:!0},{value:"s3",text:"S3"},{value:"ftp",text:"FTP"}],hide:!0,dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1,forceUpdate:0}},computed:{sortedSettings:function(){var t=this,e=[];return this.settings.length>0&&h.forEach((function(n){var i=t.settings.find((function(t){return t.name===n}));i&&e.push(i)})),e}},mounted:function(){this.getSettings(),this.getDigitalOceanVPCs()},methods:{onSelectChange:function(){this.forceUpdate+=1},isSelectInput:function(t){return["DIGITAL_OCEAN_REGION","DIGITAL_OCEAN_VPC","S3_PROVIDER","S3_STREAMING","STORAGE_DRIVER"].includes(t)},isCheckboxInput:function(t){return["DIGITAL_OCEAN_ENABLED"].includes(t)},isHidden:function(t){var e=["FTP","S3"],n=t.split("_")[0],i=this.form,r=i.STORAGE_DRIVER,a=i.S3_PROVIDER,o=i.DIGITAL_OCEAN_ENABLED;return!(!["","disabled"].includes(o)||!["DIGITAL_OCEAN_ACCESS_TOKEN","DIGITAL_OCEAN_REGION","DIGITAL_OCEAN_VPC"].includes(t))||(!(!e.includes(n)||r.toUpperCase()===n)||r.toUpperCase()===n&&"custom"!==a&&"S3_ENDPOINT"===t)},getSelectOptions:function(t){switch(t){case"DIGITAL_OCEAN_REGION":return this.digitalOceanRegions;case"DIGITAL_OCEAN_VPC":return this.digitalOceanVPCs;case"S3_PROVIDER":return this.providers;case"S3_STREAMING":return this.streamingOptions;case"STORAGE_DRIVER":return this.storageOptions;default:return[]}},countDownChanged:function(t){this.dismissCountDown=t},getSettings:function(){var t=this;v["a"].getSettings(this,(function(e,n){n.settings&&(t.settings=n.settings,t.settings.forEach((function(e){t.form[e.name]=e.value})))}))},updateSettings:function(t){var e=this;v["a"].updateSettings(this,t,(function(t,n){e.dismissCountDown=e.dismissSecs,console.log("Settings updated",n)}))},getDigitalOceanVPCs:function(){var t=this;v["a"].getMachineVPCs(this,(function(e,n){var i,r=n&&n.vpcs||[];t.digitalOceanVPCs=(i=t.digitalOceanVPCs).concat.apply(i,f(r.map((function(t){var e={text:t.name,value:t.id};return e})).sort()))}))},onSubmit:function(t){t.preventDefault(),this.updateSettings(this.form)},onClickShow:function(){this.hide=!this.hide}}},g=p,m=n("2877"),b=Object(m["a"])(g,a,o,!1,null,"7f5e2421",null),S=b.exports,E={name:"Settings",components:{SettingsForm:S}},_=E,x=Object(m["a"])(_,i,r,!1,null,null,null);e["default"]=x.exports},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),a=n("b622"),o=a("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"4e82":function(t,e,n){"use strict";var i=n("23e7"),r=n("e330"),a=n("59ed"),o=n("7b0b"),s=n("07fa"),c=n("577e"),u=n("d039"),l=n("addb"),d=n("a640"),f=n("04d1"),v=n("d998"),h=n("2d00"),p=n("512c"),g=[],m=r(g.sort),b=r(g.push),S=u((function(){g.sort(void 0)})),E=u((function(){g.sort(null)})),_=d("sort"),x=!u((function(){if(h)return h<70;if(!(f&&f>3)){if(v)return!0;if(p)return p<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)g.push({k:e+i,v:n})}for(g.sort((function(t,e){return e.v-t.v})),i=0;i<g.length;i++)e=g[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),O=S||!E||!_||!x,C=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}};i({target:"Array",proto:!0,forced:O},{sort:function(t){void 0!==t&&a(t);var e=o(this);if(x)return void 0===t?m(e):m(e,t);var n,i,r=[],c=s(e);for(i=0;i<c;i++)i in e&&b(r,e[i]);l(r,C(t)),n=r.length,i=0;while(i<n)e[i]=r[i++];while(i<c)delete e[i++];return e}})},"512c":function(t,e,n){var i=n("342f"),r=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},"7db0":function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").find,a=n("44d2"),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){return 1},1)}))}},addb:function(t,e,n){var i=n("4dae"),r=Math.floor,a=function(t,e){var n=t.length,c=r(n/2);return n<8?o(t,e):s(t,a(i(t,0,c),e),a(i(t,c),e),e)},o=function(t,e){var n,i,r=t.length,a=1;while(a<r){i=a,n=t[a];while(i&&e(t[i-1],n)>0)t[i]=t[--i];i!==a++&&(t[i]=n)}return t},s=function(t,e,n,i){var r=e.length,a=n.length,o=0,s=0;while(o<r||s<a)t[o+s]=o<r&&s<a?i(e[o],n[s])<=0?e[o++]:n[s++]:o<r?e[o++]:n[s++];return t};t.exports=a},caad:function(t,e,n){"use strict";var i=n("23e7"),r=n("4d64").includes,a=n("d039"),o=n("44d2"),s=a((function(){return!Array(1).includes()}));i({target:"Array",proto:!0,forced:s},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d784:function(t,e,n){"use strict";n("ac1f");var i=n("e330"),r=n("cb2d"),a=n("9263"),o=n("d039"),s=n("b622"),c=n("9112"),u=s("species"),l=RegExp.prototype;t.exports=function(t,e,n,d){var f=s(t),v=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),h=v&&!o((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!v||!h||n){var p=i(/./[f]),g=e(f,""[t],(function(t,e,n,r,o){var s=i(t),c=e.exec;return c===a||c===l.exec?v&&!o?{done:!0,value:p(e,n,r)}:{done:!0,value:s(n,e,r)}:{done:!1}}));r(String.prototype,t,g[0]),r(l,f,g[1])}d&&c(l[f],"sham",!0)}},d81d:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").map,a=n("1dde"),o=a("map");i({target:"Array",proto:!0,forced:!o},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d998:function(t,e,n){var i=n("342f");t.exports=/MSIE|Trident/.test(i)}}]);
//# sourceMappingURL=settings.7e21c2a4.js.map