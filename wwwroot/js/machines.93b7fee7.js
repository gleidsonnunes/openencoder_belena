(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["machines"],{"014f":function(t,e,n){"use strict";var i=n("cc46"),r=n.n(i);r.a},"0e9b":function(t,e,n){"use strict";n.r(e);var i,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"machines"}},[n("MachinesForm"),n("MachinesTable")],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"machines-table"}},[n("b-table",{attrs:{striped:"",hover:"",dark:"",fields:t.fields,items:t.items},scopedSlots:t._u([{key:"cell(created_at)",fn:function(e){return[n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.item.created_at,expression:"data.item.created_at"}]},[t._v(" "+t._s(t._f("moment")(e.item.created_at,"from","now"))+" ")])]}},{key:"cell(action)",fn:function(e){return[n("b-button",{attrs:{variant:"light"},on:{click:function(n){return t.onClickDelete(e.item.id)}}},[t._v("❌")])]}}])}),0===t.items.length?n("h2",{staticClass:"text-center"},[t._v("No Active Machines")]):t._e()],1)},a=[],c=n("d722"),u=5e3,l={data:function(){return{fields:["id","name","status","size_slug","created_at","region","tags","provider","action"],items:[]}},mounted:function(){var t=this;this.getMachines(),i=setInterval((function(){t.getMachines()}),u)},destroyed:function(){clearInterval(i)},methods:{getMachines:function(){var t=this;c["a"].getMachines(this,(function(e,n){t.items=n&&n.machines||[]}))},deleteMachine:function(t){c["a"].deleteMachine(this,t,(function(t,e){console.log("Deleting machine: ",e)}))},onClickDelete:function(t){var e=t;this.deleteMachine(e)}}},f=l,d=n("2877"),m=Object(d["a"])(f,s,a,!1,null,null,null),h=m.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"machines-form"}},[n("h4",[t._v("Create Machines")]),n("b-form",{staticClass:"mb-3",attrs:{inline:""},on:{submit:t.onSubmit}},[n("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-provider",value:null,options:t.providers,required:""},model:{value:t.form.provider,callback:function(e){t.$set(t.form,"provider",e)},expression:"form.provider"}}),n("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-regions",value:null,options:t.regions},on:{change:t.onRegionChange},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[n("option",{attrs:{slot:"first"},domProps:{value:null},slot:"first"},[t._v("Regions")])]),n("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-sizes",value:null,options:t.sizes},model:{value:t.form.size,callback:function(e){t.$set(t.form,"size",e)},expression:"form.size"}},[n("option",{attrs:{slot:"first"},domProps:{value:null},slot:"first"},[t._v("Size")])]),n("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-count",type:"number",number:!0},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}}),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Apply")]),n("b-button",{staticClass:"delete-all",attrs:{variant:"danger"},on:{click:t.deleteAllMachines}},[t._v("Delete All")])],1),n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"success"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" Created Machine! ")]),n("hr")],1)},b=[],g=(n("99af"),n("4de4"),n("7db0"),n("caad6"),n("d81d"),n("4e82"),n("b0c0"),n("d3b7"),n("2532"),n("ddb0"),n("2909")),p={data:function(){return{form:{provider:"digitalocean",region:null,size:null,count:0},providers:{digitalocean:"Digital Ocean"},regionsData:[],sizesData:[],sizes:[],count:Object.assign({},Object(g["a"])(Array(10).keys())),dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1}},computed:{regions:function(){return this.regionsData.map((function(t){var e={text:"".concat(t.name),value:t.slug};return e})).sort()}},mounted:function(){this.getRegions(),this.getSizes()},methods:{countDownChanged:function(t){this.dismissCountDown=t},getRegions:function(){var t=this;c["a"].getMachineRegions(this,(function(e,n){t.regionsData=n&&n.regions||[]}))},getSizes:function(){var t=this;c["a"].getMachineSizes(this,(function(e,n){t.sizesData=n&&n.sizes||[]}))},createMachine:function(t){var e=this;c["a"].createMachine(this,t,(function(t,n){console.log("Created machine: ",n),e.dismissCountDown=e.dismissSecs}))},deleteAllMachines:function(){c["a"].deleteAllMachines(this,(function(t,e){console.log("Deleting all machines: ",e)}))},onRegionChange:function(){var t=this.form.region,e=this.regionsData.find((function(e){return e.slug===t})).sizes,n=this.sizesData.filter((function(t){return e.includes(t.slug)&&t.available})).sort((function(t,e){return t.price_monthly>e.price_monthly})).map((function(t){var e={text:"".concat(t.slug," -- $").concat(t.price_monthly," /mo"),value:t.slug};return e}));this.sizes=n},onSubmit:function(t){t.preventDefault(),console.log(JSON.stringify(this.form)),this.createMachine(this.form)}}},y=p,w=(n("014f"),Object(d["a"])(y,v,b,!1,null,"0f682952",null)),_=w.exports,x={name:"Machines",components:{MachinesForm:_,MachinesTable:h}},A=x,M=Object(d["a"])(A,r,o,!1,null,null,null);e["default"]=M.exports},"1c7e":function(t,e,n){var i=n("b622"),r=i("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(c){}return n}},2532:function(t,e,n){"use strict";var i=n("23e7"),r=n("5a34"),o=n("1d80"),s=n("ab13");i({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},2909:function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){return i(t)||r(t)||o()}},"35a1":function(t,e,n){var i=n("f5df"),r=n("3f8c"),o=n("b622"),s=o("iterator");t.exports=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||r[i(t)]}},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),o=n("b622"),s=o("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},"4de4":function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").filter,o=n("d039"),s=n("1dde"),a=s("filter"),c=a&&!o((function(){[].filter.call({length:-1,0:1},(function(t){throw t}))}));i({target:"Array",proto:!0,forced:!a||!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var i=n("f8c2"),r=n("7b0b"),o=n("9bdd"),s=n("e95a"),a=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,f,d,m=r(t),h="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,g=void 0!==b,p=0,y=u(m);if(g&&(b=i(b,v>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(e=a(m.length),n=new h(e);e>p;p++)c(n,p,g?b(m[p],p):m[p]);else for(f=y.call(m),d=f.next,n=new h;!(l=d.call(f)).done;p++)c(n,p,g?o(f,b,[l.value,p],!0):l.value);return n.length=p,n}},"4e82":function(t,e,n){"use strict";var i=n("23e7"),r=n("1c0b"),o=n("7b0b"),s=n("d039"),a=n("b301"),c=[],u=c.sort,l=s((function(){c.sort(void 0)})),f=s((function(){c.sort(null)})),d=a("sort"),m=l||!f||d;i({target:"Array",proto:!0,forced:m},{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),r(t))}})},"5a34":function(t,e,n){var i=n("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7db0":function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").find,o=n("44d2"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},"9bdd":function(t,e,n){var i=n("825a");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(s){var o=t["return"];throw void 0!==o&&i(o.call(t)),s}}},a630:function(t,e,n){var i=n("23e7"),r=n("4df4"),o=n("1c7e"),s=!o((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:s},{from:r})},ab13:function(t,e,n){var i=n("b622"),r=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},b301:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!n||!i((function(){n.call(null,e||function(){throw 1},1)}))}},caad6:function(t,e,n){"use strict";var i=n("23e7"),r=n("4d64").includes,o=n("44d2");i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cc46:function(t,e,n){},d81d:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").map,o=n("d039"),s=n("1dde"),a=s("map"),c=a&&!o((function(){[].map.call({length:-1,0:1},(function(t){throw t}))}));i({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},e95a:function(t,e,n){var i=n("b622"),r=n("3f8c"),o=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}}}]);
//# sourceMappingURL=machines.93b7fee7.js.map